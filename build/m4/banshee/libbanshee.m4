AC_DEFUN([BANSHEE_CHECK_LIBBANSHEE],
[
	AC_ISC_POSIX
	AC_PROG_CC

	AC_HEADER_STDC

	# needed so autoconf doesn't complain before checking the existence of glib-2.0 in configure.ac
	m4_pattern_allow([AM_PATH_GLIB_2_0])
	AM_PATH_GLIB_2_0

	LIBBANSHEE_LIBS=""
	LIBBANSHEE_CFLAGS=""

	PKG_CHECK_MODULES(GTK, gtk+-3.0 >= 3.0)
	SHAMROCK_CONCAT_MODULE(LIBBANSHEE, GTK)

	AC_SUBST(LIBBANSHEE_CFLAGS)
	AC_SUBST(LIBBANSHEE_LIBS)
])

